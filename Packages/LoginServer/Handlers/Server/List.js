/* Business logic of ServerList
 * Handler name: ServerListRequestHandler
 *
 * This handle is responsable to tell the client
 * all worlds that can be connected
 *
 * Received:
 * - nothing
 *
 * Expected:
 * - A world list
 * - End of server list
 * - Selected world (or world with more characters)
 * - Recommended list
 */

export default async (reader, client) => {
  try {
    // This handle wont be fully done now
    client.sendPacket(Buffer.from([0x0A, 0x00, 0x00, 0x05, 0x00, 0x4F, 0x72, 0x69, 0x6F, 0x6E, 0x00, 0x00, 0x00, 0x64, 0x00, 0x64, 0x00, 0x00, 0x08, 0x07, 0x00, 0x4F, 0x72, 0x69, 0x6F, 0x6E, 0x2D, 0x31, 0x68, 0x01, 0x00, 0x00, 0x01, 0x00, 0x00, 0x07, 0x00, 0x4F, 0x72, 0x69, 0x6F, 0x6E, 0x2D, 0x32, 0xA8, 0x07, 0x00, 0x00, 0x01, 0x01, 0x00, 0x07, 0x00, 0x4F, 0x72, 0x69, 0x6F, 0x6E, 0x2D, 0x33, 0x58, 0x02, 0x00, 0x00, 0x01, 0x02, 0x00, 0x07, 0x00, 0x4F, 0x72, 0x69, 0x6F, 0x6E, 0x2D, 0x34, 0xF0, 0x00, 0x00, 0x00, 0x01, 0x03, 0x00, 0x07, 0x00, 0x4F, 0x72, 0x69, 0x6F, 0x6E, 0x2D, 0x35, 0xA0, 0x00, 0x00, 0x00, 0x01, 0x04, 0x00, 0x07, 0x00, 0x4F, 0x72, 0x69, 0x6F, 0x6E, 0x2D, 0x36, 0x18, 0x01, 0x00, 0x00, 0x01, 0x05, 0x00, 0x07, 0x00, 0x4F, 0x72, 0x69, 0x6F, 0x6E, 0x2D, 0x37, 0xA0, 0x00, 0x00, 0x00, 0x01, 0x06, 0x00, 0x07, 0x00, 0x4F, 0x72, 0x69, 0x6F, 0x6E, 0x2D, 0x38, 0xC8, 0x00, 0x00, 0x00, 0x01, 0x07, 0x00, 0x00, 0x00]));
    client.sendPacket(Buffer.from([0x0A, 0x00, 0xFF]));
    client.sendPacket(Buffer.from([0x1A, 0x00, 0x00, 0x00, 0x00, 0x00]));
    client.sendPacket(Buffer.from([0x1B, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]));
  } catch (err) {
    return [];
  }
};
